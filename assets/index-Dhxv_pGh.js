(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&c(u)}).observe(document,{childList:!0,subtree:!0});function o(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function c(s){if(s.ep)return;s.ep=!0;const l=o(s);fetch(s.href,l)}})();const Z=(e,t,o,c,s,l)=>{const u=document.createElement("div");return u.id=e,u},ee=Z("background"),te="/page5/assets/click_1-GoaYDx5v.mp3",E=new Audio(te);E.pause();const n=(e,t,o)=>{const c=document.createElement("div");return c.id=e,t&&(c.className=t),c},r=(e,t,o)=>(o&&e.addEventListener(t,o),e),d=(e,t,o)=>{e.className=t,e.timer&&clearTimeout(e.timer),e.classList.remove("btn_click_anim"),e.offsetWidth,e.classList.add("btn_click_anim"),E.currentTime=0,E.play(),e.timer=setTimeout(()=>{e.className=t,o()},700)},T=n("btn_gmst"),y=n("gmst_div"),P=n("gmst_1_text","gmst_text"),x=n("gmst_continue","gmst_btn"),z=n("gmst_2_text","gmst_text"),ne=n("gmst_volume","gmst_btn"),B=n("gmst_3_text","gmst_text"),se=n("gmst_share","gmst_btn"),G=n("gmst_4_text","gmst_text"),ie=n("gmst_connect","gmst_btn"),oe=e=>(y.innerHTML="",y.append(P,x,z,ne,B,se,G,ie),P.textContent="繼續",z.textContent="分享",B.textContent="周邊",G.textContent="聯絡",e.appendChild(y)),ce=e=>(x.className="gmst_btn",e.removeChild(y)),f=n("phone"),F=n("phone_coverd"),I=n("phone_bg"),L=n("phone_back_btn"),k=n("ph_icon_div","ph_icons"),re=n("ph_icon_card","ph_icons"),H=n("ph_icon_message","ph_icons"),le=n("ph_icon_light","ph_icons"),ae=n("ph_icon_music","ph_icons"),de=n("ph_icon_account","ph_icons"),_e=n("ph_icon_tip","ph_icons");k.append(re,H,le,ae,de,_e);const me=n("phone_message"),M=n("message_send");f.append(I,F,k,L);const R=e=>{f.innerHTML="",f.append(I,F,k,L),e.appendChild(f)};r(H,"click",()=>{d(H,"ph_icons",()=>{pe()})});const pe=()=>{f.removeChild(k),f.append(me,M)},i=n("gmui_bg"),C=n("gmui_div"),S=n("lines_div"),Y=n("lines_txt"),O=n("lines_btn"),w=n("btn_phone","gmui_btns"),A=n("btn_left","gmui_btns"),D=n("btn_return","gmui_btns"),W=n("btn_right","gmui_btns");n("btn_equip","gmui_btns");let b=0;const K=()=>{i.innerHTML="",i.append(w),i.appendChild(C),b=0},X=()=>{i.innerHTML="",i.append(D,w),i.appendChild(C),b=1},J=()=>{i.innerHTML="",i.append(A,W,w),i.appendChild(C),b=2},he=()=>{i.innerHTML="",S.append(Y,O),i.append(S),i.appendChild(C)};r(w,"click",()=>{d(w,"gmui_btns",()=>{i.innerHTML="",R(i)})});r(L,"click",()=>{d(L,"",()=>{i.innerHTML="",b===0?K():b===1?X():b===2&&J()})});r(D,"click",()=>{d(D,"gmui_btns",()=>{})});r(document,"animationend",e=>{e.animationName==="btn_show_anim"&&e.target.classList.remove("item_hide")});const ue={0:["take me to nearset"]},ge={0:["s2-1","2","3","4"],1:["a","b","c","d"],2:["f","g","h","j"],3:["3_1"]},fe={t:"w",id:0,w:0,line:1,btn:4,point:{}},Q={0:{t:"w",id:0,line:0,btn:0,point:{0:[5,46,23,8,88,45,1]}},1:{t:"w",id:1,line:0,btn:0,point:{0:[14,25,11,30,30,30,2]}},2:{t:"w",id:2,line:0,btn:0,point:{0:[10,10,10,30,30,30,3]}},3:{t:"r",id:3,wall:4,line:1,btn:2,point:{1:[10,10,10,30,30,30,3],2:[10,10,10,30,30,30,3],3:[10,10,10,30,30,30,3],4:[10,10,10,30,30,30,3]}}},p=n("screen"),be=n("screen_border"),m=n("scene");p.append(m,be,i,T);U();function U(){const e=window.innerWidth,t=window.innerHeight;t/e<=1.8?p.className="screen_landscape":(p.className="screen_portrait",t/e>1.8&&t/e<1.89?i.className="gmui_only":t/e>1.9&&t/e<2.2?i.className="gmui_portrait":t/e>=2.2&&(i.className="gmui_toolong"))}window.addEventListener("resize",U);r(T,"click",()=>{d(T,"",()=>oe(p))});r(x,"click",()=>{d(x,"",()=>ce(p))});let a=fe,q=ue,g=1,h=1,$=0;const V=(e,t)=>{const o=window.innerWidth;window.innerHeight/o<=1.8?(e.style.width=t[0]+"vh",e.style.height=t[0]+"vh",e.style.top=t[1]+"vh",e.style.left=t[2]+"vh",e.style.background="red"):(e.style.width=t[3]+"vw",e.style.height=t[3]+"vw",e.style.top=t[4]+"vw",e.style.left=t[5]+"vw"),e.style.display="flex"};window.addEventListener("resize",()=>{Array.from(m.children).forEach((t,o)=>{V(t,Object.values(a.point)[o])})});const v=()=>{m.innerHTML="";let e=a.t,t=a.id,o=a.point;if(e==="w")m.className=`s${g}-${e}-${t}`;else if(e==="r")m.className=`s${g}-${e}-${t}-${h}`;else if(e==="c"){let c=a.c;m.className=`s${g}-${e}-${t}-${c}`}Object.values(o).forEach(c=>{const s=document.createElement("div");s.className="point",s.style.position="absolute",m.appendChild(s),s.style.display="none",r(s,"click",()=>{g===2&&(a=Q[c[6]]),v(),N()})})},N=()=>{let e=a.btn;a.line>0?(he(),Y.textContent=q[a.id][$],$+=1):($=0,Array.from(m.children).forEach((o,c)=>{V(o,Object.values(a.point)[c])}),e===0?K():e===1?X():e===2?J():(g=2,g===2&&(a=Q[0],q=ge),v(),N()))};r(O,"click",()=>{d(O,"",()=>{a.line-=1,N()})});r(A,"click",()=>{d(A,"gmui_btns",()=>{h>1?h-=1:h=4,v()})});r(W,"click",()=>{d(W,"gmui_btns",()=>{h<4?h+=1:h=1,v()})});v();R(i);r(M,"click",()=>{d(M,"",()=>{v(),N()})});const j=document.getElementById("app");j.appendChild(ee);j.appendChild(p);const _=n("cursor");j.appendChild(_);_.style.display="none";r(document,"mousedown",e=>{_.style.display="flex",_.className="click_anim";const{pageX:t,pageY:o}=e;_.style.left=`${t-_.offsetWidth/2}px`,_.style.top=`${o-_.offsetHeight/2}px`;const c=setTimeout(()=>{_.style.display="none",clearTimeout(c)},300)});r(document,"DOMContentLoaded",()=>{const e=()=>{window.innerWidth<580?p.orientation.lock("portrait").catch(t=>{console.error(`Error locking orientation: ${t}`)}):p.orientation.unlock().catch(t=>{console.error(`Error unlocking orientation: ${t}`)})};e(),window.addEventListener("resize",e)});
