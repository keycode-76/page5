(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const w of l.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&i(w)}).observe(document,{childList:!0,subtree:!0});function s(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=s(o);fetch(o.href,l)}})();const CA=(A,e,s,i,o,l)=>{const w=document.createElement("div");return w.id=A,w},BA=CA("background"),t={card:[],message:0,s_data:{},l_data:[],scene:""},yA="/page5/assets/click_1-GoaYDx5v.mp3",kA="data:audio/mpeg;base64,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",EA="data:audio/mpeg;base64,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",W=new Audio(yA),P=new Audio(kA),LA=new Audio(EA);W.pause();P.pause();LA.pause();const n=(A,e,s)=>{const i=document.createElement("div");return i.id=A,e&&(i.className=e),i},a=(A,e,s)=>(s&&A.addEventListener(e,s),A),d=(A,e,s)=>{A.className=e,A.timer&&clearTimeout(A.timer),A.classList.remove("btn_click_anim"),A.offsetWidth,A.classList.add("btn_click_anim"),W.currentTime=0,W.play(),A.timer=setTimeout(()=>{A.className=e,s()},700)},K=n("btn_gmst"),M=n("gmst_div"),lA=n("gmst_1_text","gmst_text"),v=n("gmst_continue","gmst_btn"),dA=n("gmst_2_text","gmst_text"),QA=n("gmst_volume","gmst_btn"),rA=n("gmst_3_text","gmst_text"),MA=n("gmst_share","gmst_btn"),gA=n("gmst_4_text","gmst_text"),xA=n("gmst_connect","gmst_btn"),vA=A=>(M.innerHTML="",M.append(lA,v,dA,QA,rA,MA,gA,xA),lA.textContent="繼續",dA.textContent="分享",rA.textContent="周邊",gA.textContent="聯絡",A.appendChild(M)),SA=A=>(v.className="gmst_btn",A.removeChild(M)),DA=["","24hr Check In","門鎖住了","鑰匙在右手邊的信箱中","鞋櫃呢"],IA={0:["test","ok"],1:["a","b","c","d"],2:["門禁卡已收錄在手機app中"]},mA={0:{t:"c",id:0,line:0,point:{0:[5,46,23,8,88,45,"close",1]},return:["wall",2]},1:{t:"c",id:1,line:0,point:{0:[14,25,11,30,30,30,"item",0],1:[8,10,11,30,30,30,"close",0]},return:["wall",2]},2:{t:"c",id:2,line:0,point:{},return:["wall",2]},3:{t:"c",id:3,line:0,point:{},return:["wall",3]},4:{t:"c",id:4,line:0,point:{},return:["wall",3]},5:{t:"c",id:5,line:0,point:{},return:["wall",3]}},R={0:["s2-1","2","3","4"],1:["a","b","c","d"],2:["f","g","h","j"],3:["3_1"]},N={0:{t:"w",id:0,line:0,btn:3,point:{0:[5,46,23,8,88,45,"wall",1]}},1:{t:"w",id:1,line:0,btn:0,point:{0:[14,25,11,30,30,30,"wall",2]}},2:{t:"w",id:2,line:0,btn:0,point:{0:[14,25,11,30,30,30,"close",0],1:[12,0,0,30,30,30,"close",2],2:[10,10,20,30,30,30,"line",1]}},3:{t:"r",id:3,wall:4,line:0,btn:2,point:{w1:{0:[4,10,10,30,30,30,"close",3],1:[8,0,0,30,30,30,"close",4],2:[12,25,11,30,30,30,"close",5]},w2:{2:[12,25,11,30,30,30,"close",5]},w3:{0:[4,10,10,30,30,30,"line",4],1:[8,0,0,30,30,30,"wall",4]},w4:{0:[4,10,10,30,30,30,"close",3]}}},4:{t:"w",id:4,line:0,btn:0,point:{0:[14,25,11,30,30,30,"wall",5]}},5:{t:"w",id:5,line:0,btn:0,point:{}}},TA={0:["我是一個朝九晚五的上班族","這是我遇到的奇怪故事"],1:["那一天出差完","我像以往依樣在該地區住一晚 隔天再返家"],2:["但是那一天上司 過於忙碌","漏定了我的住所"],3:["我向司機詢問附近有沒有便宜的住所","他表示不知道","於是我請他車速放慢一些","很快的我在路邊看到了一閃著燈的招牌"]},S={0:{t:"w",id:0,w:0,line:1,btn:4,point:{}},1:{t:"w",id:1,w:0,line:1,btn:4,point:{}},2:{t:"w",id:2,w:0,line:1,btn:0,point:{}},3:{t:"w",id:3,w:0,line:1,btn:4,point:{}}},m=n("phone"),sA=n("phone_coverd"),qA=n("phone_bg"),f=n("phone_back_btn"),G=n("ph_icon_div","ph_icons"),z=n("ph_icon_card","ph_icons"),Z=n("ph_icon_message","ph_icons"),UA=n("ph_icon_light","ph_icons"),FA=n("ph_icon_music","ph_icons"),OA=n("ph_icon_account","ph_icons"),RA=n("ph_icon_tip","ph_icons");G.append(z,Z,UA,FA,OA,RA);const NA=A=>{m.innerHTML="",m.append(qA,sA,G,f),A.appendChild(m)};a(z,"click",()=>{d(z,"ph_icons",()=>{HA()})});a(Z,"click",()=>{d(Z,"ph_icons",()=>{WA()})});const _A=n("card_div"),GA=n("card_bg"),H=n("card_list"),L=n("card_show"),h=n("card_scan"),HA=()=>{m.innerHTML="",H.innerHTML="",_A.append(h,L,H),m.append(GA,_A,sA,f),h.textContent="no card",t.card.forEach(A=>{const e=document.createElement("div");e.id=`card_${A}`,H.appendChild(e);let s=-1;L.className="",a(e,"click",()=>{s===-1?(L.className=`card_${A}`,s=A,h.className="card_scanning",h.textContent="scannig",t.scene==="s2-c-2"&&(e.timer=setTimeout(()=>{t.s_data=N[3],t.l_data=R[3],q(),r(),f.click()},3e3))):(L.className="",h.className="",h.textContent="no card",s=-1)})})};a(document,"animationend",A=>{A.animationName==="scan_anim"&&(h.className="",t.scene==="s2-c-2"?h.textContent="success":h.textContent="failed")});const JA=n("phone_message"),oA=n("message_div"),D=n("message_standby"),I=n("message_send");m.append(qA,sA,G,f);let V=["確定沒有訂到 金費還剩下一點 應該可以找個旅館之類的","好沒關係 我路上找","辛苦你 是我這邊太忙疏忽了 不然你也可以考慮搭夜車","沒事 謝謝幫忙 太晚了我找住宿好了","也是那你早點休息 不打擾"];const WA=()=>{t.message<V.length&&(Y("ai_message",V[t.message]),t.message+=1,D.textContent=V[1]),m.removeChild(G),m.append(JA,oA,D,I)},Y=(A,e)=>{const s=document.createElement("div");s.className=A,s.textContent=e,oA.appendChild(s)};a(I,"click",()=>{t.message>=V.length||d(I,"",()=>{Y("user_message",V[t.message]),t.message+=1,D.textContent="",oA.timer=setTimeout(()=>{Y("ai_message",V[t.message]),t.message+=1,D.textContent=V[t.message]},700)})});const c=n("gmui_bg"),E=n("gmui_div"),b=n("lines_div"),j=n("lines_txt"),T=n("lines_btn"),k=n("btn_phone","gmui_btns"),X=n("btn_left","gmui_btns"),$=n("btn_right","gmui_btns"),AA=n("btn_return","gmui_btns"),U=n("btn_qteL","gmui_btns"),F=n("btn_qteR","gmui_btns");let C=0;const wA=()=>{c.innerHTML="",c.append(k),c.appendChild(E),C=0},eA=()=>{c.innerHTML="",c.append(AA,k),c.appendChild(E),C=1},VA=()=>{c.innerHTML="",c.append(X,$,k),c.appendChild(E),C=2},pA=()=>{c.innerHTML="",b.append(j,T),c.append(b),c.appendChild(E)};a(k,"click",()=>{d(k,"gmui_btns",()=>{c.innerHTML="",NA(c)})});a(f,"click",()=>{d(f,"",()=>{m.className="hide_anim",f.timer=setTimeout(()=>{m.className="",C===0?wA():C===1?eA():C===2&&VA()},700)})});a(U,"click",()=>{d(U,"gmui_btns",()=>{console.log("1")})});a(F,"click",()=>{d(F,"gmui_btns",()=>{console.log("2")})});const hA=n("qte_div"),PA=n("qte_footL"),KA=n("qte_footR"),zA=n("qte_bar"),ZA=n("qte_box"),YA=n("qte_dot"),y=n("feedback","gmui_btns"),jA=()=>{c.innerHTML="",c.append(U,F,hA),hA.append(y,zA,ZA,YA,PA,KA),c.appendChild(E),C=3};let O=null,XA=null,$A;function Ae(){O=Math.random()<.5?"left":"right",y.textContent=`請按 ${O==="left"?"左":"右"} 按鈕！`}function ee(){clearTimeout($A);const A=document.querySelector("#qte_dot"),e=window.getComputedStyle(A),s=e.transform,i=e.backgroundColor;A.style.animation="none",A.style.transform=s,A.style.backgroundColor=i}function fA(A){const e=document.querySelector("#qte_dot"),s=window.getComputedStyle(e).backgroundColor;console.log(s),s==="rgb(0, 0, 0)"&&(A==="left"&&O==="left"||A==="right"&&O==="right")?y.textContent="成功！":y.textContent="失敗！",ee(),clearInterval(XA)}U.addEventListener("click",()=>fA("left"));F.addEventListener("click",()=>fA("right"));Ae();const _=n("screen"),te=n("screen_border"),g=n("scene");_.append(g,te,c,K);bA();a(K,"click",()=>{d(K,"",()=>vA(_))});a(v,"click",()=>{d(v,"",()=>SA(_))});function bA(){const A=window.innerWidth,e=window.innerHeight;e/A<=1.8?_.className="screen_landscape":(_.className="screen_portrait",e/A>1.8&&e/A<1.89?c.className="gmui_only":e/A>1.9&&e/A<2.2?c.className="gmui_portrait":e/A>=2.2&&(c.className="gmui_toolong"))}const tA=(A,e)=>{const s=window.innerWidth;window.innerHeight/s<=1.8?(A.style.width=e[0]+"vh",A.style.height=e[0]+"vh",A.style.top=e[1]+"vh",A.style.left=e[2]+"vh",A.style.background="red"):(A.style.width=e[3]+"vw",A.style.height=e[3]+"vw",A.style.top=e[4]+"vw",A.style.left=e[5]+"vw"),A.style.display="flex"};window.addEventListener("resize",()=>{Array.from(g.children).forEach((e,s)=>{tA(e,Object.values(t.s_data.point)[s])})});window.addEventListener("resize",bA);t.s_data=N[0];t.l_data=R;let B=2,u=1,nA=0,iA=[],cA=[],x=0;const q=()=>{g.innerHTML="";let A=t.s_data.t,e=t.s_data.id;A==="w"||A==="c"?g.className=`s${B}-${A}-${e}`:A==="r"&&(g.className=`s${B}-${A}-${e}-${u}`),t.scene=g.className;let s=t.s_data.point;if(console.log(t.s_data),A!=="c"&&(iA=t.s_data,cA=t.l_data),A==="r"){let i=`w${u}`;console.log(i),Object.values(s[i]).forEach(o=>{const l=document.createElement("div");l.style.position="absolute",g.appendChild(l),l.style.display="none",a(l,"click",w=>{uA(w,o)})})}else Object.values(s).forEach(i=>{const o=document.createElement("div");o.style.position="absolute",g.appendChild(o),i[6]==="item"&&(o.className=`item_${i[7]}`),o.style.display="none",a(o,"click",l=>{uA(l,i)})})},uA=(A,e)=>{switch(e[6]){case"close":t.s_data=mA[e[7]],t.l_data=IA,q(),r();break;case"line":x=e[7],r();break;case"item":oe(e[7]),A.target.style.display="none",delete mA[t.s_data.id].point[0];break;case"wall":iA=t.s_data,cA=t.l_data,t.s_data=B===1?S[e[7]]:N[e[7]],t.l_data=B===1?TA[e[7]]:R[e[7]],q(),r();break}},r=()=>{if(t.s_data.line>0)pA(),j.textContent=t.l_data[t.s_data.id][nA],nA+=1;else if(x>0)pA(),j.textContent=DA[x],x=0;else{if(t.s_data.t==="r"){const A=Array.from(g.children);let e=`w${u}`;A.forEach((s,i)=>{tA(s,Object.values(t.s_data.point[e])[i])})}else Array.from(g.children).forEach((e,s)=>{tA(e,Object.values(t.s_data.point)[s])});ne()}},ne=()=>{if(t.s_data.t==="c")eA();else switch(nA=0,t.s_data.btn){case 0:wA();break;case 1:eA();break;case 2:VA();break;case 3:jA();break;default:se();break}},se=()=>{Object.keys(S).length<=t.s_data.id+1&&(B+=1,t.s_data.id=0),B===1&&(t.s_data=S[t.s_data.id+1]),B===2&&(t.s_data=N[t.s_data.id],t.l_data=R),q(),r()};a(T,"click",()=>{b.className="hide_anim",P.currentTime=0,P.play(),T.timer=setTimeout(()=>{b.style.display="flex",b.className="show_anim",t.s_data.line-=1,r()},700)});a(T,"animationend",A=>{A.target===b&&(b.style.display="none")});a(X,"click",()=>{d(X,"gmui_btns",()=>{u>1?u-=1:u=4,q(),r()})});a($,"click",()=>{d($,"gmui_btns",()=>{u<4?u+=1:u=1,q(),r()})});a(AA,"click",()=>{d(AA,"gmui_btns",()=>{t.s_data=iA,t.l_data=cA,q(),r()})});const Q=n("items_note"),J=["獲得","請於手機內查看","card"],oe=A=>{_.appendChild(Q),t.card.push(A),Q.textContent=`${J[0]}${J[A]}${J[1]}`,Q.timer=setTimeout(()=>{_.removeChild(Q)},2500)};a(I,"click",()=>{t.message>=5&&(t.s_data=S[t.s_data.id+1],q(),r())});q();r();const aA=document.getElementById("app");aA.appendChild(BA);aA.appendChild(_);const p=n("cursor");aA.appendChild(p);p.style.display="none";a(document,"mousedown",A=>{p.style.display="flex",p.className="click_anim";const{pageX:e,pageY:s}=A;p.style.left=`${e-p.offsetWidth/2}px`,p.style.top=`${s-p.offsetHeight/2}px`;const i=setTimeout(()=>{p.style.display="none",clearTimeout(i)},300)});a(document,"DOMContentLoaded",()=>{const A=()=>{window.innerWidth<580?_.orientation.lock("portrait").catch(e=>{console.error(`Error locking orientation: ${e}`)}):_.orientation.unlock().catch(e=>{console.error(`Error unlocking orientation: ${e}`)})};A(),window.addEventListener("resize",A)});
