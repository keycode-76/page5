(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function s(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(i){if(i.ep)return;i.ep=!0;const c=s(i);fetch(i.href,c)}})();const VA=(A,e,s,a,i,c)=>{const u=document.createElement("div");return u.id=A,u},uA=VA("background"),t={card:[],message:0,s_data:{},l_data:[],scene:""},qA="/page5/assets/click_1-GoaYDx5v.mp3",fA="data:audio/mpeg;base64,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",BA="data:audio/mpeg;base64,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",O=new Audio(qA),N=new Audio(fA),CA=new Audio(BA);O.pause();N.pause();CA.pause();const n=(A,e,s)=>{const a=document.createElement("div");return a.id=A,e&&(a.className=e),a},o=(A,e,s)=>(s&&A.addEventListener(e,s),A),p=(A,e,s)=>{A.className=e,A.timer&&clearTimeout(A.timer),A.classList.remove("btn_click_anim"),A.offsetWidth,A.classList.add("btn_click_anim"),O.currentTime=0,O.play(),A.timer=setTimeout(()=>{A.className=e,s()},700)},R=n("btn_gmst"),Q=n("gmst_div"),iA=n("gmst_1_text","gmst_text"),x=n("gmst_continue","gmst_btn"),aA=n("gmst_2_text","gmst_text"),yA=n("gmst_volume","gmst_btn"),cA=n("gmst_3_text","gmst_text"),bA=n("gmst_share","gmst_btn"),oA=n("gmst_4_text","gmst_text"),kA=n("gmst_connect","gmst_btn"),EA=A=>(Q.innerHTML="",Q.append(iA,x,aA,yA,cA,bA,oA,kA),iA.textContent="繼續",aA.textContent="分享",cA.textContent="周邊",oA.textContent="聯絡",A.appendChild(Q)),LA=A=>(x.className="gmst_btn",A.removeChild(Q)),QA=["","24hr Check In","門鎖住了","鑰匙在右手邊的信箱中","鞋櫃呢"],MA={0:["test","ok"],1:["a","b","c","d"],2:["門禁卡已收錄在手機app中"]},lA={0:{t:"c",id:0,line:0,point:{0:[5,46,23,8,88,45,"close",1]},return:["wall",2]},1:{t:"c",id:1,line:0,point:{0:[14,25,11,30,30,30,"item",0],1:[8,10,11,30,30,30,"close",0]},return:["wall",2]},2:{t:"c",id:2,line:0,point:{},return:["wall",2]},3:{t:"c",id:3,line:0,point:{},return:["wall",3]},4:{t:"c",id:4,line:0,point:{},return:["wall",3]},5:{t:"c",id:5,line:0,point:{},return:["wall",3]}},X={0:["s2-1","2","3","4"],1:["a","b","c","d"],2:["f","g","h","j"],3:["3_1"]},$={0:{t:"w",id:0,line:0,btn:0,point:{0:[5,46,23,8,88,45,"wall",1]}},1:{t:"w",id:1,line:0,btn:0,point:{0:[14,25,11,30,30,30,"wall",2]}},2:{t:"w",id:2,line:0,btn:0,point:{0:[14,25,11,30,30,30,"close",0],1:[12,0,0,30,30,30,"close",2],2:[10,10,20,30,30,30,"line",1]}},3:{t:"r",id:3,wall:4,line:0,btn:2,point:{w1:{0:[4,10,10,30,30,30,"close",3],1:[8,0,0,30,30,30,"close",4],2:[12,25,11,30,30,30,"close",5]},w2:{2:[12,25,11,30,30,30,"close",5]},w3:{0:[4,10,10,30,30,30,"line",4],1:[8,0,0,30,30,30,"wall",4]},w4:{0:[4,10,10,30,30,30,"close",3]}}},4:{t:"w",id:4,line:0,btn:0,point:{0:[14,25,11,30,30,30,"wall",5]}},5:{t:"w",id:5,line:0,btn:0,point:{}}},mA={0:["我是一個朝九晚五的上班族","這是我遇到的奇怪故事"],1:["那一天出差完","我像以往依樣在該地區住一晚 隔天再返家"],2:["但是那一天上司 過於忙碌","漏定了我的住所"],3:["我向司機詢問附近有沒有便宜的住所","他表示不知道","於是我請他車速放慢一些","很快的我在路邊看到了一閃著燈的招牌"]},b={0:{t:"w",id:0,w:0,line:1,btn:4,point:{}},1:{t:"w",id:1,w:0,line:1,btn:4,point:{}},2:{t:"w",id:2,w:0,line:1,btn:0,point:{}},3:{t:"w",id:3,w:0,line:1,btn:4,point:{}}},g=n("phone"),AA=n("phone_coverd"),pA=n("phone_bg"),f=n("phone_back_btn"),I=n("ph_icon_div","ph_icons"),G=n("ph_icon_card","ph_icons"),H=n("ph_icon_message","ph_icons"),xA=n("ph_icon_light","ph_icons"),DA=n("ph_icon_music","ph_icons"),vA=n("ph_icon_account","ph_icons"),SA=n("ph_icon_tip","ph_icons");I.append(G,H,xA,DA,vA,SA);const IA=A=>{g.innerHTML="",g.append(pA,AA,I,f),A.appendChild(g)};o(G,"click",()=>{p(G,"ph_icons",()=>{UA()})});o(H,"click",()=>{p(H,"ph_icons",()=>{OA()})});const dA=n("card_div"),TA=n("card_bg"),U=n("card_list"),E=n("card_show"),h=n("card_scan"),UA=()=>{g.innerHTML="",U.innerHTML="",dA.append(h,E,U),g.append(TA,dA,AA,f),h.textContent="no card",t.card.forEach(A=>{const e=document.createElement("div");e.id=`card_${A}`,U.appendChild(e);let s=-1;E.className="",o(e,"click",()=>{s===-1?(E.className=`card_${A}`,s=A,h.className="card_scanning",h.textContent="scannig",t.scene==="s2-c-2"&&(e.timer=setTimeout(()=>{t.s_data=$[3],t.l_data=X[3],V(),d(),f.click()},3e3))):(E.className="",h.className="",h.textContent="no card",s=-1)})})};o(document,"animationend",A=>{A.animationName==="scan_anim"&&(h.className="",t.scene==="s2-c-2"?h.textContent="success":h.textContent="failed")});const FA=n("phone_message"),eA=n("message_div"),D=n("message_standby"),v=n("message_send");g.append(pA,AA,I,f);let q=["確定沒有訂到 金費還剩下一點 應該可以找個旅館之類的","好沒關係 我路上找","辛苦你 是我這邊太忙疏忽了 不然你也可以考慮搭夜車","沒事 謝謝幫忙 太晚了我找住宿好了","也是那你早點休息 不打擾"];const OA=()=>{t.message<q.length&&(J("ai_message",q[t.message]),t.message+=1,D.textContent=q[1]),g.removeChild(I),g.append(FA,eA,D,v)},J=(A,e)=>{const s=document.createElement("div");s.className=A,s.textContent=e,eA.appendChild(s)};o(v,"click",()=>{t.message>=q.length||p(v,"",()=>{J("user_message",q[t.message]),t.message+=1,D.textContent="",eA.timer=setTimeout(()=>{J("ai_message",q[t.message]),t.message+=1,D.textContent=q[t.message]},700)})});const l=n("gmui_bg"),T=n("gmui_div"),B=n("lines_div"),W=n("lines_txt"),S=n("lines_btn"),k=n("btn_phone","gmui_btns"),K=n("btn_left","gmui_btns"),P=n("btn_right","gmui_btns"),z=n("btn_return","gmui_btns");let y=0;const _A=()=>{l.innerHTML="",l.append(k),l.appendChild(T),y=0},Z=()=>{l.innerHTML="",l.append(z,k),l.appendChild(T),y=1},hA=()=>{l.innerHTML="",l.append(K,P,k),l.appendChild(T),y=2},rA=()=>{l.innerHTML="",B.append(W,S),l.append(B),l.appendChild(T)};o(k,"click",()=>{p(k,"gmui_btns",()=>{l.innerHTML="",IA(l)})});o(f,"click",()=>{p(f,"",()=>{g.className="hide_anim",f.timer=setTimeout(()=>{g.className="",y===0?_A():y===1?Z():y===2&&hA()},700)})});const m=n("screen"),NA=n("screen_border"),r=n("scene");m.append(r,NA,l,R);wA();o(R,"click",()=>{p(R,"",()=>EA(m))});o(x,"click",()=>{p(x,"",()=>LA(m))});function wA(){const A=window.innerWidth,e=window.innerHeight;e/A<=1.8?m.className="screen_landscape":(m.className="screen_portrait",e/A>1.8&&e/A<1.89?l.className="gmui_only":e/A>1.9&&e/A<2.2?l.className="gmui_portrait":e/A>=2.2&&(l.className="gmui_toolong"))}const Y=(A,e)=>{const s=window.innerWidth;window.innerHeight/s<=1.8?(A.style.width=e[0]+"vh",A.style.height=e[0]+"vh",A.style.top=e[1]+"vh",A.style.left=e[2]+"vh",A.style.background="red"):(A.style.width=e[3]+"vw",A.style.height=e[3]+"vw",A.style.top=e[4]+"vw",A.style.left=e[5]+"vw"),A.style.display="flex"};window.addEventListener("resize",()=>{Array.from(r.children).forEach((e,s)=>{Y(e,Object.values(t.s_data.point)[s])})});window.addEventListener("resize",wA);t.s_data=b[0];t.l_data=mA;let C=1,w=1,j=0,tA=[],nA=[],M=0;const V=()=>{r.innerHTML="";let A=t.s_data.t,e=t.s_data.id;A==="w"||A==="c"?r.className=`s${C}-${A}-${e}`:A==="r"&&(r.className=`s${C}-${A}-${e}-${w}`),t.scene=r.className;let s=t.s_data.point;if(console.log(t.s_data),A!=="c"&&(tA=t.s_data,nA=t.l_data),A==="r"){let a=`w${w}`;console.log(a),Object.values(s[a]).forEach(i=>{const c=document.createElement("div");c.style.position="absolute",r.appendChild(c),c.style.display="none",o(c,"click",u=>{gA(u,i)})})}else Object.values(s).forEach(a=>{const i=document.createElement("div");i.style.position="absolute",r.appendChild(i),a[6]==="item"&&(i.className=`item_${a[7]}`),i.style.display="none",o(i,"click",c=>{gA(c,a)})})},gA=(A,e)=>{switch(e[6]){case"close":t.s_data=lA[e[7]],t.l_data=MA,V(),d();break;case"line":M=e[7],d();break;case"item":HA(e[7]),A.target.style.display="none",delete lA[t.s_data.id].point[0];break;case"wall":tA=t.s_data,nA=t.l_data,t.s_data=C===1?b[e[7]]:$[e[7]],t.l_data=C===1?mA[e[7]]:X[e[7]],V(),d();break}},d=()=>{if(t.s_data.line>0)rA(),W.textContent=t.l_data[t.s_data.id][j],j+=1;else if(M>0)rA(),W.textContent=QA[M],M=0;else{if(t.s_data.t==="r"){const A=Array.from(r.children);let e=`w${w}`;A.forEach((s,a)=>{Y(s,Object.values(t.s_data.point[e])[a])})}else Array.from(r.children).forEach((e,s)=>{Y(e,Object.values(t.s_data.point)[s])});RA()}},RA=()=>{if(t.s_data.t==="c")Z();else switch(j=0,t.s_data.btn){case 0:_A();break;case 1:Z();break;case 2:hA();break;default:GA();break}},GA=()=>{Object.keys(b).length<=t.s_data.id+1&&(C+=1,t.s_data.id=0),C===1&&(t.s_data=b[t.s_data.id+1]),C===2&&(t.s_data=$[t.s_data.id],t.l_data=X),V(),d()};o(S,"click",()=>{B.className="hide_anim",N.currentTime=0,N.play(),S.timer=setTimeout(()=>{B.style.display="flex",B.className="show_anim",t.s_data.line-=1,d()},700)});o(S,"animationend",A=>{A.target===B&&(B.style.display="none")});o(K,"click",()=>{p(K,"gmui_btns",()=>{w>1?w-=1:w=4,V(),d()})});o(P,"click",()=>{p(P,"gmui_btns",()=>{w<4?w+=1:w=1,V(),d()})});o(z,"click",()=>{p(z,"gmui_btns",()=>{t.s_data=tA,t.l_data=nA,V(),d()})});const L=n("items_note"),F=["獲得","請於手機內查看","card"],HA=A=>{m.appendChild(L),t.card.push(A),L.textContent=`${F[0]}${F[A]}${F[1]}`,L.timer=setTimeout(()=>{m.removeChild(L)},2500)};o(v,"click",()=>{t.message>=5&&(t.s_data=b[t.s_data.id+1],V(),d())});V();d();const sA=document.getElementById("app");sA.appendChild(uA);sA.appendChild(m);const _=n("cursor");sA.appendChild(_);_.style.display="none";o(document,"mousedown",A=>{_.style.display="flex",_.className="click_anim";const{pageX:e,pageY:s}=A;_.style.left=`${e-_.offsetWidth/2}px`,_.style.top=`${s-_.offsetHeight/2}px`;const a=setTimeout(()=>{_.style.display="none",clearTimeout(a)},300)});o(document,"DOMContentLoaded",()=>{const A=()=>{window.innerWidth<580?m.orientation.lock("portrait").catch(e=>{console.error(`Error locking orientation: ${e}`)}):m.orientation.unlock().catch(e=>{console.error(`Error unlocking orientation: ${e}`)})};A(),window.addEventListener("resize",A)});
